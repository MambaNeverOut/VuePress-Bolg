{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{349:function(v,_,e){v.exports=e.p+\"assets/img/EventLoop.b7e54009.jpg\"},379:function(v,_,e){\"use strict\";e.r(_);var t=e(43),s=Object(t.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":v.$parent.slotKey}},[t(\"h2\",{attrs:{id:\"node-js-双数是稳定版，单数非稳定版，使用-8-及以上的版本\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#node-js-双数是稳定版，单数非稳定版，使用-8-及以上的版本\"}},[v._v(\"#\")]),v._v(\" Node.js 双数是稳定版，单数非稳定版，使用 8 及以上的版本\")]),v._v(\" \"),t(\"h2\",{attrs:{id:\"安装\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装\"}},[v._v(\"#\")]),v._v(\" 安装\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"Windows 官网下载安装包（不要绿色版），默认配置就可以，不方便安装子系统\")]),v._v(\" \"),t(\"li\",[v._v(\"Mac 安装 homebrew ，\"),t(\"code\",[v._v(\"brew install node@10\")]),v._v(\"，需要多版本可以使用 n 或 nvm 两种工具\")])]),v._v(\" \"),t(\"h2\",{attrs:{id:\"周边工具\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#周边工具\"}},[v._v(\"#\")]),v._v(\" 周边工具\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"nrm 用于切换下载源\")]),v._v(\" \"),t(\"li\",[v._v(\"ts-node 可以运行 ts 的 node\")]),v._v(\" \"),t(\"li\",[v._v(\"Windows NotePad++ 临时打开文件，cmder 可以代替 git bash\")]),v._v(\" \"),t(\"li\",[v._v(\"Mac iTerm2.app on my zsh\")])]),v._v(\" \"),t(\"h2\",{attrs:{id:\"node-js-使-js-可以调用系统接口，开发后端应用\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#node-js-使-js-可以调用系统接口，开发后端应用\"}},[v._v(\"#\")]),v._v(\" Node.js 使 JS 可以调用系统接口，开发后端应用\")]),v._v(\" \"),t(\"h2\",{attrs:{id:\"node-js-用到的技术\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#node-js-用到的技术\"}},[v._v(\"#\")]),v._v(\" Node.js 用到的技术\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"V8 引擎\")]),v._v(\" \"),t(\"li\",[v._v(\"libuv\")]),v._v(\" \"),t(\"li\",[v._v(\"C/C++实现的 c-ares（域名解析）、http-parser（http 解析）、OpenSSL（https）、zlib（加密）等库\")])]),v._v(\" \"),t(\"h2\",{attrs:{id:\"node-js-技术架构\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#node-js-技术架构\"}},[v._v(\"#\")]),v._v(\" Node.js 技术架构\")]),v._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:e(!function(){var v=new Error(\"Cannot find module '../../.vuepress/public/Node.js%E6%9E%B6%E6%9E%84.jpg'\");throw v.code=\"MODULE_NOT_FOUND\",v}()),alt:\"Node.js架构\"}})]),v._v(\" \"),t(\"p\",[v._v(\"如果要看源代码，推荐看 0.10 版本（使用时间久，代码相对较少）\\n了解更多，请查看\"),t(\"a\",{attrs:{href:\"https://github.com/yjhjstz/deep-into-node\",target:\"_blank\",rel:\"noopener noreferrer\"}},[v._v(\"node\"),t(\"OutboundLink\")],1)]),v._v(\" \"),t(\"h3\",{attrs:{id:\"bindings\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#bindings\"}},[v._v(\"#\")]),v._v(\" bindings\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"Node.js 用 C++对 http_parser 进行封装，使它符合某些要求，封装的文件叫做 http_parser_bindings.cpp\")]),v._v(\" \"),t(\"li\",[v._v(\"用 Node.js 提供的编译将其编译为.node 文件\")]),v._v(\" \"),t(\"li\",[v._v(\"JS 代码就可以直接 require 这个.node 文件\")]),v._v(\" \"),t(\"li\",[v._v(\"这样 JS 就可以直接调用 C++库，中间的桥梁就是 binding\")]),v._v(\" \"),t(\"li\",[v._v(\"Node.js 提供了很多 binding，所以加个 s\\n注意：编译成.node 文件不是必须的，可以是其他的任何可行方式\")])]),v._v(\" \"),t(\"h4\",{attrs:{id:\"libuv\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#libuv\"}},[v._v(\"#\")]),v._v(\" libuv\")]),v._v(\" \"),t(\"p\",[v._v(\"跨平台的异步 I/O 库\")]),v._v(\" \"),t(\"p\",[v._v(\"输入，输出都属于 I/O 操作，系统与外界的交互行为\")]),v._v(\" \"),t(\"blockquote\",[t(\"p\",[v._v(\"功能：用于 TCP/UDP/DNS/文件等的异步操作\")])]),v._v(\" \"),t(\"p\",[v._v(\"http 是基于 TCP ，\\nUDP 聊天常用，不需要三次握手，效率高\")]),v._v(\" \"),t(\"h3\",{attrs:{id:\"v8\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#v8\"}},[v._v(\"#\")]),v._v(\" V8\")]),v._v(\" \"),t(\"p\",[v._v(\"功能：\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"将 JS 源代码变成本地代码\")]),v._v(\" \"),t(\"li\",[v._v(\"维护调用栈，确保 JS 函数的执行顺序\")]),v._v(\" \"),t(\"li\",[v._v(\"内存管理，为所有对象分配内存\")]),v._v(\" \"),t(\"li\",[v._v(\"垃圾回收，重复利用无用的内存\")]),v._v(\" \"),t(\"li\",[v._v(\"实现 JS 的标准库（数组 splice）\")])]),v._v(\" \"),t(\"p\",[v._v(\"注意：\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"V8 不提供 DOM API\")]),v._v(\" \"),t(\"li\",[v._v(\"V8 执行 JS 是单线程的\")]),v._v(\" \"),t(\"li\",[v._v(\"可以开启两个线程分别执行 JS\")]),v._v(\" \"),t(\"li\",[v._v(\"V8 本身包含多个线程\")]),v._v(\" \"),t(\"li\",[v._v(\"自带 event loop， 但 Node.js 基于 libuv 自己做了一个 event loop\")])]),v._v(\" \"),t(\"h4\",{attrs:{id:\"event-loop\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#event-loop\"}},[v._v(\"#\")]),v._v(\" Event Loop\")]),v._v(\" \"),t(\"p\",[v._v(\"event 事件\\nloop 循环，Node.js 按顺序轮询每种事件\")]),v._v(\" \"),t(\"p\",[v._v(\"事件同时触发，Node 规定了某种顺序\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"操作系统可以触发事件，JS 可以处理事件\")]),v._v(\" \"),t(\"li\",[v._v(\"Event Loop 就是对事件处理顺序的管理\")])]),v._v(\" \"),t(\"p\",[v._v(\"方方翻译的 event loop 文档：https://juejin.im/post/5ab7677f6fb9a028d56711d0\")]),v._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:e(349),alt:\"EventLoop顺序\"}})]),v._v(\" \"),t(\"p\",[v._v(\"重点阶段\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"timers 检查计时器\")]),v._v(\" \"),t(\"li\",[v._v(\"poll 轮询，检查系统事件\")]),v._v(\" \"),t(\"li\",[v._v(\"check 检查 setImmediate 回调\")]),v._v(\" \"),t(\"li\",[v._v(\"其他阶段用得较少\")])]),v._v(\" \"),t(\"p\",[v._v(\"注意：\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"大部分时间，Node.js 都会停在 poll 轮询阶段\")]),v._v(\" \"),t(\"li\",[v._v(\"大部分事件都在 poll 阶段被处理，如文件，网络请求\")])]),v._v(\" \"),t(\"h3\",{attrs:{id:\"总结\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#总结\"}},[v._v(\"#\")]),v._v(\" 总结\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"使用 libuv 进行异步 I/O 操作\")]),v._v(\" \"),t(\"li\",[v._v(\"使用 eventLoop 管理时间处理顺序\")]),v._v(\" \"),t(\"li\",[v._v(\"用 C/C++ 库处理 TCP/UDP/DNS/文件\")]),v._v(\" \"),t(\"li\",[v._v(\"使用 bindings 使 JS 可以和 C++互相调用\")]),v._v(\" \"),t(\"li\",[v._v(\"使用 V8 来运行 JS\")]),v._v(\" \"),t(\"li\",[v._v(\"使用 Node.js 标准库简化 JS 代码\")])]),v._v(\" \"),t(\"h2\",{attrs:{id:\"node-js-api\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#node-js-api\"}},[v._v(\"#\")]),v._v(\" Node.js API\")]),v._v(\" \"),t(\"p\",[v._v(\"民间版本：https://devdocs.io/\")]),v._v(\" \"),t(\"ul\",[t(\"li\",[v._v(\"Buffer 小段缓存\")]),v._v(\" \"),t(\"li\",[v._v(\"Child Processes 子进程\")]),v._v(\" \"),t(\"li\",[v._v(\"Cluster\")]),v._v(\" \"),t(\"li\",[v._v(\"Debugger\")]),v._v(\" \"),t(\"li\",[v._v(\"Events\")]),v._v(\" \"),t(\"li\",[v._v(\"File System\")]),v._v(\" \"),t(\"li\",[v._v(\"Globals 全局变量\")]),v._v(\" \"),t(\"li\",[v._v(\"HTTP\")]),v._v(\" \"),t(\"li\",[v._v(\"Path\")]),v._v(\" \"),t(\"li\",[v._v(\"Process\")]),v._v(\" \"),t(\"li\",[v._v(\"Query Strings 对 url 进行处理\")]),v._v(\" \"),t(\"li\",[v._v(\"Stream 流格式的数据处理\")]),v._v(\" \"),t(\"li\",[v._v(\"Timers\")]),v._v(\" \"),t(\"li\",[v._v(\"URL\")]),v._v(\" \"),t(\"li\",[v._v(\"Worker Threads（node10 才有）\")])])])}),[],!1,null,null,null);_.default=s.exports}}]);","extractedComments":[]}